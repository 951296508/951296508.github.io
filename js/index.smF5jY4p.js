import{d as e,r as o,S as a,o as t,g as r,f as i,C as s,m as p,w as l,a3 as m,i as n,a4 as d,$ as u,e as c,h as j,aA as f}from"./index.CLwcgr5W.js";import{v as h}from"./loading.Bz7s-shP.js";import{E as g}from"./card.DaprKw85.js";import{_ as b}from"./index.CL6hs5nu.js";import{a as w,E as x}from"./table-column.DA50kvI_.js";import"./checkbox.Bca_-ShR.js";/* empty css                */import"./popper.ri2OTzpA.js";import"./scrollbar.Dbr3MVrg.js";/* empty css            */import{E as _,a as v}from"./form-item.BdtRMIsU.js";/* empty css               */import{E as y}from"./date-picker-panel.B-O8saxx.js";import{E as k}from"./input.Dut2d9w2.js";import{L as N}from"./log-api.FOLWEuGd.js";import{E as T}from"./index.CBGhulza.js";import"./pagination.CMZavnIU.js";import"./select.DMIXDDBT.js";import"./index.FpF9xk5X.js";import"./use-form-common-props.IVgy7ztC.js";import"./token.DWNpOE8r.js";import"./strings.B0-P65gW.js";import"./error.D_Dr4eZ1.js";import"./castArray.DrI1MKdu.js";import"./index.BEOFtOgx.js";import"./aria.Cpd_B0tV.js";import"./event.BwRzfsZt.js";import"./scroll.BNYtayPk.js";import"./debounce.C60rTEN2.js";import"./toNumber.CXxxQ5rM.js";import"./_baseIteratee.lgV_mEGR.js";import"./index.WPFncA80.js";import"./index.C2dXNy9n.js";import"./vnode.mtOM6Ohs.js";import"./index.VqkEunCr.js";import"./_plugin-vue_export-helper.BCo6x5W8.js";import"./_baseClone.CAv3GKzL.js";import"./omit.Ya0hPkRo.js";import"./raf.Dkwa_YoE.js";import"./index.QOGYTTN0.js";import"./index.B4fcRE25.js";import"./dayjs.min.B55u3ApX.js";import"./index.DUs1sagU.js";import"./index.BLAVLI0k.js";const E={class:"app-container"},U={class:"search-container"},V=e({name:"Log",inheritAttrs:!1,__name:"index",setup(e){const V=o(),C=o(!1),P=o(0),A=a({pageNum:1,pageSize:10,keywords:"",createTime:["",""]}),S=o();function Y(){C.value=!0,N.getPage(A).then(e=>{S.value=e.list,P.value=e.total}).finally(()=>{C.value=!1})}function z(){A.pageNum=1,Y()}function D(){V.value.resetFields(),A.pageNum=1,A.createTime=void 0,Y()}return t(()=>{z()}),(e,o)=>{const a=k,t=_,N=y,L=T,M=v,R=x,q=w,F=b,I=g,K=h;return i(),r("div",E,[s("div",U,[p(M,{ref_key:"queryFormRef",ref:V,model:n(A),inline:!0},{default:l(()=>[p(t,{prop:"keywords",label:"关键字"},{default:l(()=>[p(a,{modelValue:n(A).keywords,"onUpdate:modelValue":o[0]||(o[0]=e=>n(A).keywords=e),placeholder:"日志内容",clearable:"",onKeyup:m(z,["enter"])},null,8,["modelValue"])]),_:1}),p(t,{prop:"createTime",label:"操作时间"},{default:l(()=>[p(N,{modelValue:n(A).createTime,"onUpdate:modelValue":o[1]||(o[1]=e=>n(A).createTime=e),editable:!1,type:"daterange","range-separator":"~","start-placeholder":"开始时间","end-placeholder":"截止时间","value-format":"YYYY-MM-DD",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),p(t,{class:"search-buttons"},{default:l(()=>[p(L,{type:"primary",icon:"search",onClick:z},{default:l(()=>[...o[5]||(o[5]=[d("搜索",-1)])]),_:1}),p(L,{icon:"refresh",onClick:D},{default:l(()=>[...o[6]||(o[6]=[d("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),p(I,{shadow:"hover",class:"data-table"},{default:l(()=>[u((i(),c(q,{data:n(S),"highlight-current-row":"",border:"",class:"data-table__content"},{default:l(()=>[p(R,{label:"操作时间",prop:"createTime",width:"180"}),p(R,{label:"操作人",prop:"operator",width:"120"}),p(R,{label:"日志模块",prop:"module",width:"100"}),p(R,{label:"日志内容",prop:"content","min-width":"200"}),p(R,{label:"IP 地址",prop:"ip",width:"150"}),p(R,{label:"地区",prop:"region",width:"150"}),p(R,{label:"浏览器",prop:"browser",width:"150"}),p(R,{label:"终端系统",prop:"os",width:"200","show-overflow-tooltip":""}),p(R,{label:"执行时间(ms)",prop:"executionTime",width:"150"})]),_:1},8,["data"])),[[K,n(C)]]),n(P)>0?(i(),c(F,{key:0,total:n(P),"onUpdate:total":o[2]||(o[2]=e=>f(P)?P.value=e:null),page:n(A).pageNum,"onUpdate:page":o[3]||(o[3]=e=>n(A).pageNum=e),limit:n(A).pageSize,"onUpdate:limit":o[4]||(o[4]=e=>n(A).pageSize=e),onPagination:Y},null,8,["total","page","limit"])):j("",!0)]),_:1})])}}});export{V as default};
